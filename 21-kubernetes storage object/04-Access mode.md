# Access Mode

ุฏุฑ Kubernetesุ Access Mode ุง ุญุงูุช ุฏุณุชุฑุณ ูุญูู ุงุฑุชุจุงุท ุจู ฺฉ `PersistentVolume` (PV) ู `PersistentVolumeClaim` (PVC) ุฑุง ูุดุฎุต ูโฺฉูุฏ. ุงู Access Modes ุจู ุชุนุฏุงุฏ ฺฉูุงูุชโูุง ูุฎุชูู ฺฉู ูโุชูุงููุฏ ุจู ฺฉ PV ูุชุตู ุดููุฏุ ุงุดุงุฑู ุฏุงุฑูุฏ. ุณู ููุน Access Mode ุงุตู ูุฌูุฏ ุฏุงุฑุฏ:

**ReadWriteOnce (RWO):**

ููุท ฺฉ ฺฉูุงูุช (ฺฉ Pod) ุจู ุตูุฑุช ููุฒูุงู ูโุชูุงูุฏ ุจู PV ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ.
ุงู Access Mode ุจุฑุง ุณูุงุฑููุง ฺฉู ฺฉ Pod ุจู ุตูุฑุช ุงูุญุตุงุฑ ุจู ฺฉ ุฏุณฺฉ ูุงุฒ ุฏุงุฑุฏุ ูุงููุฏ ูุงูโุณุณุชูโูุงุณุช.

**ReadOnlyMany (ROX):**

ฺูุฏู ฺฉูุงูุช (ฺูุฏู Pod) ุจู ุตูุฑุช ููุฒูุงู ูโุชูุงููุฏ ุงุฒ PV ุฎูุงูุฏู ฺฉููุฏุ ุงูุง ููโุชูุงููุฏ ุฏุฑ ุขู ููุดุชู ฺฉููุฏ.
ุงู Access Mode ููุงุณุจ ุจุฑุง ุณูุงุฑููุง ุงุณุช ฺฉู ฺูุฏู Pod ูุงุฒ ุจู ุฏุณุชุฑุณ ุจู ฺฉ ุฏุณฺฉ ุฏุงุฆู (ูุงููุฏ ฺฉ ูุฌููุนู ุงุทูุงุนุงุช ุชููุง ุฎูุงูุฏู) ุฏุงุฑูุฏ.

**ReadWriteMany (RWX):**


ฺูุฏู ฺฉูุงูุช (ฺูุฏู Pod) ุจู ุตูุฑุช ููุฒูุงู ูโุชูุงููุฏ ุจู PV ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุฏ ู ูู ุฎูุงูุฏู ู ูู ููุดุชู ุฏุงุดุชู ุจุงุดูุฏ.
ุงู Access Mode ูุนูููุงู ุจุฑุง ุณูุงุฑููุง ฺฉู ฺูุฏู Pod ุจู ฺฉ ุฏุณฺฉ ุจู ุตูุฑุช ููุฒูุงู ูุงุฒ ุฏุงุฑูุฏ (ูุซู ุดุจฺฉูโูุง ูุงู) ููุงุณุจ ุงุณุช.


### ูุซุงู:

```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: example-pv
spec:
  capacity:
    storage: 1Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteOnce
  hostPath:
    path: "/mnt/data"
```

ุฏุฑ ุงู ูุซุงูุ `accessModes` ุจู `ReadWriteOnce` ุชูุธู ุดุฏู ุงุณุชุ ฺฉู ุจู ูุนูุง ุงู ุงุณุช ฺฉู ุชููุง ฺฉ Pod ุจู ุตูุฑุช ููุฒูุงู ูโุชูุงูุฏ ุจู ุงู `PersistentVolume` ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ. ุงู Access Mode ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ุณูุงุฑููุง ูุงููุฏ ุงุณุชูุงุฏู ุงูุญุตุงุฑ ฺฉ Pod ุงุฒ ฺฉ ูุงูโุณุณุชู ููุงุณุจ ุงุณุช.

# Example


ูโุชูุงูุฏ ฺฉ `PersistentVolume` (PV) ุจุง Access Mode "ReadOnlyMany" (ROX) ุงุฌุงุฏ ฺฉูุฏ ู ุณูพุณ ฺฉ ูพุงุฏ (Pod) ุฑุง ุจู ุขู ูุชุตู ฺฉูุฏ. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุงุฒ ฺฺฏููฺฏ ุงุฌุงุฏ ฺฉ PV ROX ู ฺฉ ูพุงุฏ ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉูุฏ ุขูุฑุฏู ุดุฏู ุงุณุช.

### Manifest ุจุฑุง PersistentVolume (pv-rox.yaml):

```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-example-rox
spec:
  capacity:
    storage: 5Gi
  accessModes:
    - ReadOnlyMany
  nfs:
    path: /path/to/nfs/share
    server: nfs-server-address
```

### Manifest ุจุฑุง Pod (pod-with-pv-rox.yaml):

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: pod-with-pv-rox
spec:
  containers:
  - name: my-container
    image: nginx
    volumeMounts:
    - name: rox-volume
      mountPath: /mnt/data
  volumes:
  - name: rox-volume
    persistentVolumeClaim:
      claimName: my-rox-claim
```

### Manifest ุจุฑุง PersistentVolumeClaim (pvc-rox.yaml):

```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: my-rox-claim
spec:
  accessModes:
    - ReadOnlyMany
  resources:
    requests:
      storage: 5Gi
```

ุฏุฑ ุงู ูุซุงู:

- `pv-rox.yaml`:
-
ุงุฌุงุฏ ฺฉ `PersistentVolume` ุจุง Access Mode "ReadOnlyMany" ฺฉู ุจู ฺฉ ูุฎุฒู NFS ูุชุตู ุงุณุช.
- `pvc-rox.yaml`:
- 
-
ุงุฌุงุฏ ฺฉ `PersistentVolumeClaim` ฺฉู ุจู PV ุจุง Access Mode "ReadOnlyMany" ูุชุตู ูโุดูุฏ.
- `pod-with-pv-rox.yaml`:
- 
-
ุงุฌุงุฏ ฺฉ ูพุงุฏ (Pod) ฺฉู ุงุฒ PVC ูุฑุจูุทู ุจู ุนููุงู ฺฉ volume ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุงู volume ุจู PV ุจุง Access Mode "ReadOnlyMany" ูุชุตู ุงุณุช.

ูุทูุงู ููุงุฏุฑ ูุณุฑ (path) ู ุขุฏุฑุณ ุณุฑูุฑ NFS (server) ุฑุง ุจุง ููุงุฏุฑ ูุนุชุจุฑ ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ


ุฎู ุฎูุจ ๐
ุจุงู **ROX ู RWX** ุฑู ุนููโุชุฑุ ูููููโุชุฑ ู ุจุง ูุซุงูโูุง ูุงูุน Production ุจุฑุฑุณ ฺฉููุ ุฌูุฑ ฺฉู ุฏฺฏู ูุงุท ูุดู.

---

# ๐ ROX ู RWX ุฏุฑ Kubernetes (ุฎู ฺฉุงูู)

## ุงูู ุงุฏุขูุฑ ุฎู ฺฉูุชุงู

* **ROX = ReadOnlyMany**
  ฺูุฏ Pod โ ููุท ุฎูุงูุฏู
* **RWX = ReadWriteMany**
  ฺูุฏ Pod โ ุฎูุงูุฏู + ููุดุชู

ุงูโูุง **ูุงุจูุช Storage ูุณุชูุฏ**ุ ูู Pod ุง PVC.

---

## ๐ง ROX ุฏููุงู ฺู ูุดฺฉู ุฑุง ุญู ูโฺฉูุฏุ

### ูุณุฆูู

* ฺูุฏ Pod ฺฉ ุฏุชุง ูุดุชุฑฺฉ ูโุฎูุงููุฏ
* ูฺโฺฉุฏุงู ูุจุงุฏ ุจููุณูุฏ
* ุฏุชุง ุจุงุฏ **immutable** ุจุงุดุฏ

### ุฑุงูโุญู

**ROX**

---

### ุณูุงุฑููุง ูุงูุน ROX

1. **Static Website**

   * HTML / CSS / JS
   * ฺูุฏ nginx
2. **Config ูุฑฺฉุฒ**

   * config file
   * cert
3. **ML Model**

   * ูุงูโูุง model ููุท ุฎูุงูุฏู
4. **Shared Libraries**

   * artifactูุง build ุดุฏู

---

### ฺุฑุง ROX ุงููโุชุฑ ุงุณุชุ

* ูฺ Pod ููโุชูุงูุฏ ุฏุชุง ุฑุง ุฎุฑุงุจ ฺฉูุฏ
* ุญุช ุงฺฏุฑ Pod compromise ุดูุฏ โ ููโุชูุงูุฏ ฺุฒ ุชุบุฑ ุฏูุฏ
* ุญููุงุช write-based ุญุฐู ูโุดููุฏ

๐ ุฏุฑ Security:

> ROX = attack surface ฺฉูุชุฑ

---

## โ๏ธ ูพุงุฏูโุณุงุฒ ROX ุฏุฑ ุนูู

* ูุนูููุงู ุฑู:

  * NFS
  * CephFS
* PVC ุจุง `ReadOnlyMany`
* ุฏุฑ Pod:

```yaml
volumeMounts:
- mountPath: /data
  readOnly: true
```

---

## ๐ RWX ุฏููุงู ฺู ูุดฺฉู ุฑุง ุญู ูโฺฉูุฏุ

### ูุณุฆูู

* ฺูุฏ Pod ุจุงุฏ **ููุฒูุงู ุจููุณูุฏ**
* ุฏุชุง ุจุงุฏ ูุดุชุฑฺฉ ุจุงุดุฏ
* ุงูพูฺฉุดู scale ูโุดูุฏ

### ุฑุงูโุญู

**RWX**

---

### ุณูุงุฑููุง ูุงูุน RWX

1. **File Upload**

   * ฺูุฏ replica
   * ฺฉ ูพูุดู ูุดุชุฑฺฉ
2. **CMS (WordPress, Drupal)**
3. **Shared Cache (ูู ุฎู recommended)**
4. **Artifact Repository**
5. **CI Workspace ูุดุชุฑฺฉ**

---

## ๐จ RWX ฺุฑุง ุฎุทุฑูุงฺฉโุชุฑ ุงุณุชุ

ฺูู:

* ููุฒูุงู ููุดุชู ุณุฎุช ุงุณุช
* race condition
* file lock
* latency ุจุงูุงุชุฑ

ุงฺฏุฑ ุงูพ ุฏุฑุณุช ุทุฑุงุญ ูุดุฏู ุจุงุดุฏ:
โ data corruption
โ performance drop

๐ RWX ุจุงุฏ:

* ุชูุณุท Storage ุงูู ุจุงุดุฏ
* ุงูพูฺฉุดู thread-safe ุจุงุดุฏ

---

## ๐ฌ ุชูุงูุช ูู ROX ู RWX

| ููุฑุฏ        | ROX    | RWX      |
| ----------- | ------ | -------- |
| ููุดุชู       | โ      | โ        |
| ููุฒูุงู     | ุณุงุฏู   | ูพฺุฏู   |
| performance | ุจุงูุงุชุฑ | ฺฉูุชุฑ     |
| ุงููุช       | ุจุงูุงุชุฑ | ูพุงูโุชุฑ |
| ููุงุณุจ scale | ุนุงู   | ุญุณุงุณ     |

---

## ๐งฑ Storageูุง ูพุดุชุจุงู

| Storage  | ROX | RWX |
| -------- | --- | --- |
| NFS      | โ   | โ   |
| CephFS   | โ   | โ   |
| EBS      | โ   | โ   |
| HostPath | โ๏ธ  | โ๏ธ  |
| Local PV | โ   | โ   |

---

## ๐ ูฺฉุชู ุทูุง ฺฉู ุฎูโูุง ุงุดุชุจุงู ูโฺฉููุฏ

> RWX ุนู ยซฺูุฏ Podยป
> ูู ยซูุฑ Pod ูุถุง ุฌุฏุงยป

ููุดู:

* **ฺฉ Volume**
* **ฺฉ ุฏุชุง**
* **ฺูุฏ ูุตุฑูโฺฉููุฏู**

---

## ๐ง ROX ุง RWXุ ฺฉู ฺฉุฏููุ

### ุงุฒ ุฎูุฏุช ุงูู ุจูพุฑุณ:

1. ุขุง Podูุง ุจุงุฏ ุจููุณูุฏุ

   * ูู โ ROX
   * ุจูู โ ุงุฏุงูู
2. ุขุง ููุดุชู ููุฒูุงู ุงุณุชุ

   * ูู โ RWO
   * ุจูู โ RWX

---

## ๐ ูุซุงู ุชุตููโฺฏุฑ

| ุงูพ             | Mode ุฏุฑุณุช |
| -------------- | --------- |
| nginx static   | ROX       |
| DB             | RWO       |
| Upload service | RWX       |
| ML inference   | ROX       |
| Jenkins agents | RWX       |

---

## ุฌูุนโุจูุฏ ููุง ๐ง

* **ROX = ุงููุ ุณุงุฏูุ ุณุฑุน**
* **RWX = ุงูุนุทุงูโูพุฐุฑ ูู ุญุณุงุณ**
* Storage backend ุชุนูโฺฉููุฏู ุงุณุช
* AccessMode โ ุชูุณู ูุถุง

---

ุงฺฏุฑ ุฏูุณุช ุฏุงุฑุ ูุฏู ุจุนุฏ ูโุชููู:

* ูุซุงู ุฎุฑุงุจ ุดุฏู ุฏุชุง ุจุง RWX (race condition)
* ุง ุทุฑุงุญ ุฏุฑุณุช ุงูพ ุจุฑุง RWX
* ุง ููุงุณู RWX ุจุง Object Storage (S3 / MinIO)

ุจฺฏู ฺฉุฏููู ูโุฎูุง ๐


