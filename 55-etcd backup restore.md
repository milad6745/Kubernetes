Ø¯Ø± Ú©ÙˆØ¨Ø±Ù†ØªÛŒØ²ØŒ **etcd snapshots** Ù…Ø±Ø¨ÙˆØ· Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ø¨Ù‡ **Backup & Restore Ø¯ÛŒØªØ§Ø¨ÛŒØ³ etcd**. Ø§Ø¬Ø§Ø²Ù‡ Ø¨Ø¯Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø³Ø§Ø¯Ù‡ ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡Ù…:

---

## 1ï¸âƒ£ etcd Ú†ÛŒØ³ØªØŸ

* **etcd** ÛŒÚ© **Key-Value store** Ø§Ø³Øª Ú©Ù‡ Ú©ÙˆØ¨Ø±Ù†ØªÛŒØ² Ø¨Ø±Ø§ÛŒ **Ø°Ø®ÛŒØ±Ù‡ ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ù„Ø§Ø³ØªØ±** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
* Ù‡Ø± Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ø¯Ø± Ú©ÙˆØ¨Ø±Ù†ØªÛŒØ² Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒØ¯: PodØŒ ServiceØŒ ConfigMapØŒ Secret Ùˆ Ø­ØªÛŒ ÙˆØ¶Ø¹ÛŒØª NodeÙ‡Ø§ØŒ Ø¯Ø± etcd Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
* Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø§Ú¯Ø± etcd Ø®Ø±Ø§Ø¨ Ø´ÙˆØ¯ ÛŒØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¢Ù† Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±ÙˆØ¯ØŒ Ú©Ù„Ø§Ø³ØªØ± Ø¯ÛŒÚ¯Ø± Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## 2ï¸âƒ£ Ú†Ø±Ø§ Backup Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ…ØŸ

* Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ú©Ù„Ø§Ø³ØªØ± Ø¨Ø¹Ø¯ Ø§Ø² **Ø®Ø±Ø§Ø¨ÛŒØŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ù†Ø³Ø§Ù†ÛŒ ÛŒØ§ Ù…Ø´Ú©Ù„ Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø±ÛŒ**.
* Ø¨Ø¯ÙˆÙ† Ø¨Ú©Ø§Ù¾ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª ØªÙ…Ø§Ù… ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ PodÙ‡Ø§ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¨Ø¯Ù‡ÛŒØ¯.

---

## 3ï¸âƒ£ Snapshots Ø¯Ø± etcd

* **Snapshot** ÛŒØ¹Ù†ÛŒ ÛŒÚ© **Ú©Ù¾ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ etcd Ø¯Ø± ÛŒÚ© Ù„Ø­Ø¸Ù‡ Ù…Ø´Ø®Øµ**.
* Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø§ÛŒÙ† snapshot Ø±Ø§ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø±Ø§ÛŒ **Restore** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….

### Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡:

* Ø¨Ú©Ø§Ù¾ Ú¯Ø±ÙØªÙ†:

```bash
ETCDCTL_API=3 etcdctl snapshot save /backup/etcd-snapshot.db \
  --endpoints=https://127.0.0.1:2379 \
  --cacert=/etc/kubernetes/pki/etcd/ca.crt \
  --cert=/etc/kubernetes/pki/etcd/server.crt \
  --key=/etc/kubernetes/pki/etcd/server.key
```

* Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ù†Ø§Ù… `etcd-snapshot.db` Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.

---

## 4ï¸âƒ£ Restore Ø§Ø² Snapshot

* Ø§Ú¯Ø± etcd Ø®Ø±Ø§Ø¨ Ø´Ø¯ ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ù„Ø§Ø³ØªØ± Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯:

```bash
ETCDCTL_API=3 etcdctl snapshot restore /backup/etcd-snapshot.db \
  --data-dir=/var/lib/etcd-from-backup
```

* Ø¨Ø¹Ø¯ Ø§Ø² RestoreØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ NodeÙ‡Ø§ÛŒ Master Ø±Ø§ Ø¨Ù‡ Ø§ÛŒÙ† Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¬Ø¯ÛŒØ¯ ÙˆØµÙ„ Ú©Ù†ÛŒØ¯.

---

## 5ï¸âƒ£ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

* Ù‡Ù…ÛŒØ´Ù‡ **Ø¨Ú©Ø§Ù¾ Ù…Ù†Ø¸Ù…** Ø¨Ú¯ÛŒØ±ÛŒØ¯. (Ù…Ø«Ù„Ø§Ù‹ Ø±ÙˆØ²Ø§Ù†Ù‡ ÛŒØ§ Ù‚Ø¨Ù„ Ø§Ø² Ø¢Ù¾Ø¯ÛŒØª Ú©ÙˆØ¨Ø±Ù†ØªÛŒØ²)
* Ø¨Ú©Ø§Ù¾ Ø±Ø§ Ø¯Ø± ÛŒÚ© Ù…Ú©Ø§Ù† **Ø§Ù…Ù† Ùˆ Ø¬Ø¯Ø§ Ø§Ø² Ú©Ù„Ø§Ø³ØªØ±** Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯.
* Ù‡Ù†Ú¯Ø§Ù… RestoreØŒ ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ **Cluster ID Ùˆ CertificateÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø¨Ø§Ø´Ù†Ø¯**.
* Ø¨Ú©Ø§Ù¾ Ùˆ Restore ÙÙ‚Ø· **Master NodeÙ‡Ø§** Ø±Ø§ Ø¯Ø±Ú¯ÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ú†ÙˆÙ† etcd ÙÙ‚Ø· Ø±ÙˆÛŒ Master Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

ðŸ’¡ Ø®Ù„Ø§ØµÙ‡ Ø³Ø§Ø¯Ù‡:

> etcd snapshot = Ø¹Ú©Ø³ ÙÙˆØ±ÛŒ Ø§Ø² ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ù…Ù„ Ú©Ù„Ø§Ø³ØªØ±
> Backup = Ø°Ø®ÛŒØ±Ù‡ snapshot Ø¯Ø± Ø¬Ø§ÛŒÛŒ Ø§Ù…Ù†
> Restore = Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ú©Ù„Ø§Ø³ØªØ± Ø¨Ù‡ Ù‡Ù…ÙˆÙ† Ø­Ø§Ù„Øª snapshot

---

Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… ÛŒÚ© **Ù†Ù…ÙˆØ¯Ø§Ø± ØªØµÙˆÛŒØ±ÛŒ Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ Ø¨Ú©Ø´Ù…** Ú©Ù‡ Ù†Ø´Ø§Ù† Ø¨Ø¯Ù‡ **Backup Ùˆ Restore Ø¯Ø± etcd Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯** Ùˆ Ú†Ù‡ NodeÙ‡Ø§ÛŒÛŒ Ø¯Ø±Ú¯ÛŒØ± Ù‡Ø³ØªÙ†Ø¯.

Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø¨Ø±Ø§Øª Ø¨Ú©Ø´Ù…ØŸ
