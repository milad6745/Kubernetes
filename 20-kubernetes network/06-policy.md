# network and default policy

Network Policy

در Kubernetes یک منبع (resource) است که امکان کنترل دقیق‌تر ترافیک شبکه در داخل خوشه Kubernetes را فراهم می‌کند. این قابلیت به شما این اختیار را می‌دهد که تعیین کنید چه پادها می‌توانند با چه پادها یا خدمات دیگر درون خوشه ارتباط برقرار کنند و چه پروتکل‌ها و پورت‌ها مجاز هستند.

برخی از ویژگی‌ها و اهداف Network Policy عبارتند از:

1. **کنترل دسترسی:**
   - تعیین کنید چه پادها به چه پادها یا خدماتی می‌توانند متصل شوند.

2. **قابلیت جداسازی:**
   - جلوگیری از ارتباط بین برنامه‌ها و خدماتی که نباید با یکدیگر ارتباط داشته باشند.

3. **امنیت لایه شبکه:**
   - محدود کردن ترافیک به پورت‌ها و پروتکل‌های مشخص به منظور بهبود امنیت شبکه.

4. **تنظیم قوانین فایروال:**
   - شبیه به یک فایروال، امکان تعیین قوانین کنترل ترافیک را فراهم می‌کند.

5. **پیاده‌سازی اصطلاحات Zero Trust:**
   - اجرای اصطلاحات Zero Trust به معنای عدم اعتماد به صورت پیش‌فرض و تایید هر ارتباط بر اساس قوانین.

نمونه‌ای از یک Network Policy در Kubernetes می‌تواند به صورت زیر باشد:

```yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-nginx
spec:
  podSelector:
    matchLabels:
      app: nginx
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: frontend
    ports:
    - protocol: TCP
      port: 80
```

در این مثال:

- `podSelector` تعیین می‌کند که این قاعده برای پادهایی با برچسب `app=nginx` اعمال شود.
- `ingress` نشان‌دهنده قوانین ورود به پادها است.
- در اینجا، مشخص شده است که پادهایی که برچسب `role=frontend` دارند می‌توانند به پورت 80 پادهای با برچسب `app=nginx` دسترسی پیدا کنند.

Network Policy توسط محیط‌های Kubernetes مختلف پشتیبانی می‌شود و می‌تواند به عنوان یک ابزار مهم برای بهبود امنیت و کنترل ترافیک درون خوشه مورد استفاده قرار گیرد.
